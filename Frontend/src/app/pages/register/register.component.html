<div *ngIf="invitationDetails">
    <mat-card *ngIf="!invitationDetails.valid">
        <mat-card-header>
            <h1 class="mat-h1">Invalid invitation</h1>
        </mat-card-header>
        <mat-card-content>
            <p>Invitation has expired.</p>
            <p>Please contact the administrator.</p>
        </mat-card-content>
    </mat-card>

    <mat-card *ngIf="invitationDetails.valid">
        <mat-card-header>
            <h1 class="mat-h1">Register</h1>
        </mat-card-header>
        <mat-card-content class="form">
            <mat-form-field>
                <mat-label>Email</mat-label>
                <input matInput type="email" 
                [value]="invitationDetails.email" 
                disabled="true"
                >
            </mat-form-field>
            <mat-form-field>
                <mat-label>Password</mat-label>
                <input matInput type="password" [formControl]="firstPassword">
                <mat-error *ngIf="firstPassword.hasError('required')">
                    Password is <strong>required</strong>
                </mat-error>
                <mat-error *ngIf="firstPassword.hasError('minlength')">
                    Password needs to be at least <strong>8 characters</strong>
                </mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Repeat password</mat-label>
                <input matInput type="password" [formControl]="secondPassword" [errorStateMatcher]="matcher">
                <mat-error *ngIf="form.hasError('notSame')">
                    Passwords <strong>do not match</strong>
                </mat-error>
            </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
            <button mat-raised-button color="primary" 
                class="wide-button" (click)="onSubmit()"
                [disabled]="form.invalid">
                Register
            </button>
        </mat-card-actions>
    </mat-card>
</div>